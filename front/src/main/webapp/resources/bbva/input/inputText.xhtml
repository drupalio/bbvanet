<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile">

<composite:interface>

	<composite:attribute name="idInput" />
	<composite:attribute name="classInput" />
	<composite:attribute name="habilitar" />
	<composite:attribute name="value" />
	<composite:attribute name="type" />
	<composite:attribute name="style" />
	<composite:attribute name="required" />
	<composite:attribute name="maxlength" type="java.lang.Integer" />
	<composite:attribute name="requiredMessage" required="false"
		default="An input is required" />
	<composite:attribute name="validatorMessage" required="false"
		default="Invalid input" />
	<composite:attribute name="onclick" required="false" default="" />

</composite:interface>

<composite:implementation>

	<script>
		function checkFilled(inputId) {
			inputId.className = "form-control ";
		}
	</script>

	<p:inputText id="#{cc.attrs.idInput}" type="#{cc.attrs.type}"
		value="#{cc.attrs.value}" maxlength="#{cc.attrs.maxlength}"
		required="#{cc.attrs.required}"
		requiredMessage="#{cc.attrs.requiredMessage}"
		onchange="#{cc.attrs.habilitar}"
		validatorMessage="#{cc.attrs.validatorMessage}"
		title="#{component.valid?'':'Este campo es obligatorio.'}"
		onclick="checkFilled(this)" style="#{cc.attrs.style}"
		styleClass="#{component.valid?'form-control':'form-control  has-error'}">
		<f:ajax execute="@form" render="@form" />
	</p:inputText>

</composite:implementation>

</html>