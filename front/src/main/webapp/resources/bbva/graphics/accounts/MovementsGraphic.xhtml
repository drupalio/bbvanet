<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile"
	xmlns:c="http://java.sun.com/jstl/core">


<composite:interface>
	<composite:attribute name="id" type="String" />
	<composite:attribute name="lineConfigUI"
		type="com.bbva.net.front.ui.line.LineConfigUI" />
	<composite:attribute name="values" type="java.util.List"/>		
</composite:interface>

<composite:implementation>
	<div class="hidden-xs col-sm-4 bbva-chart">
		<div id="savings" class="chart-lines">
			<div id="chart2_8" class="c3">
			<div id="imgLOAD" class="imgLOAD" align="center">
				<IMG src="/assets/img/loader.gif" />
			</div>
			</div>
			<script>
			var title;
			var xColumns = [];
			var xValues = [];
			var values;
			var label;
			var currency;
			xColumns.push("Series 1: ");
			
			<c:forEach var="lineItemUI" items="${cc.attrs.lineConfigUI.lineItemUIList}" varStatus="status">
			title = ("${lineItemUI.label}");
			currency= ("${lineItemUI.value.currency}");
			label = ("${lineItemUI.label}");
			xColumns.push("${lineItemUI.value.amount}");
			</c:forEach>
			
			<c:forEach var="lineValues" items="${cc.attrs.values}" varStatus="status">
			xValues.push("${lineValues}");
			</c:forEach>
			
			var chart = c3.generate({
				bindto : '#chart2_8',
				padding : {
					top : 0,
					right : 10,
					bottom : 250,
					left : 10,
				},
				data : {
					columns : [ xColumns ],
				},
				legend : {
					show : false,
				},
				grid : {
					y : {
						lines : [ xValues ],
// 						lines : [ {
// 							value : 323555556
// 						}, {
// 							value : 533058788.625
// 						}, {
// 							value : 742562021.250
// 						}, {
// 							value : 952065253.875
// 						}, {
// 							value : 1161568486.500
// 						}, {
// 							value : 1371071719.125
// 						}, {
// 							value : 1580574951.750
// 						}, {
// 							value : 1790078184.375
// 						}, {
// 							value : 1999581417.000
// 						}, {
// 							value : 2209084649.625
// 						},],
					}
				},
				axis : {
					x : {
						show : false,
					},
					y : {
						show : false,
					},
				},
				tooltip : {
					format : {
						title:function (x){return "";},
						name: function (name, ratio, id, index) { return "Serie 1: "; },
						value: function (value, ratio, id) {
			                var format = d3.format(',');			                
			                return "<B>"+currency+" "+format(value)+"</B>";
						 }

					}
				},
				color : function(color, d) {
					return d3.rgb('#7cb5ec');
				}
			});
			</script>
		</div>
	</div>
</composite:implementation>
</html>